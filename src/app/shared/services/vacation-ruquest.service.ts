import { Injectable } from '@angular/core';
import { VacationRequests } from '../interfaces';
import { VacationRequestsFilterPipe } from '../pipes/vacation-requests-filter.pipe';

@Injectable({
  providedIn: 'root',
})
export class VacationRuquestService {
  vacationRequests: VacationRequests[] = [
    new VacationRequests({
      id: '1',
      firstName: 'Emma',
      lastName: 'Johnson',
      imagePath: 'https://randomuser.me/api/portraits/women/40.jpg',
      submittedOn: '2024-10-01T08:30:00Z',
      startDate: '2024-10-10T00:00:00Z',
      endDate: '2024-10-15T00:00:00Z',
      salary: 5000,
    }),
    new VacationRequests({
      id: '2',
      firstName: 'Sophia',
      lastName: 'Williams',
      imagePath: 'https://randomuser.me/api/portraits/women/41.jpg',
      submittedOn: '2024-10-02T09:00:00Z',
      startDate: '2024-10-20T00:00:00Z',
      endDate: '2024-10-25T00:00:00Z',
      salary: 6000,
    }),
    new VacationRequests({
      id: '3',
      firstName: 'Olivia',
      lastName: 'Brown',
      imagePath: 'https://randomuser.me/api/portraits/women/42.jpg',
      submittedOn: '2024-10-03T10:15:00Z',
      startDate: '2024-10-30T00:00:00Z',
      endDate: '2024-11-05T00:00:00Z',
      salary: 5500,
    }),
    new VacationRequests({
      id: '4',
      firstName: 'Ava',
      lastName: 'Davis',
      imagePath: 'https://randomuser.me/api/portraits/women/43.jpg',
      submittedOn: '2024-10-04T11:45:00Z',
      startDate: '2024-11-10T00:00:00Z',
      endDate: '2024-11-15T00:00:00Z',
      salary: 6200,
    }),
    new VacationRequests({
      id: '5',
      firstName: 'Mia',
      lastName: 'Wilson',
      imagePath: 'https://randomuser.me/api/portraits/women/44.jpg',
      submittedOn: '2024-10-05T08:00:00Z',
      startDate: '2024-11-15T00:00:00Z',
      endDate: '2024-11-20T00:00:00Z',
      salary: 4800,
    }),
    new VacationRequests({
      id: '6',
      firstName: 'Isabella',
      lastName: 'Martinez',
      imagePath: 'https://randomuser.me/api/portraits/women/45.jpg',
      submittedOn: '2024-10-06T09:30:00Z',
      startDate: '2024-11-20T00:00:00Z',
      endDate: '2024-11-25T00:00:00Z',
      salary: 5300,
    }),
    new VacationRequests({
      id: '7',
      firstName: 'Amelia',
      lastName: 'Garcia',
      imagePath: 'https://randomuser.me/api/portraits/women/46.jpg',
      submittedOn: '2024-10-07T10:45:00Z',
      startDate: '2024-11-25T00:00:00Z',
      endDate: '2024-11-30T00:00:00Z',
      salary: 6100,
    }),
    new VacationRequests({
      id: '8',
      firstName: 'Evelyn',
      lastName: 'Rodriguez',
      imagePath: 'https://randomuser.me/api/portraits/women/47.jpg',
      submittedOn: '2024-10-08T11:15:00Z',
      startDate: '2024-12-01T00:00:00Z',
      endDate: '2024-12-05T00:00:00Z',
      salary: 5700,
    }),
    new VacationRequests({
      id: '9',
      firstName: 'Harper',
      lastName: 'Hernandez',
      imagePath: 'https://randomuser.me/api/portraits/women/48.jpg',
      submittedOn: '2024-10-09T12:30:00Z',
      startDate: '2024-12-05T00:00:00Z',
      endDate: '2024-12-10T00:00:00Z',
      salary: 6200,
    }),
    new VacationRequests({
      id: '10',
      firstName: 'Emily',
      lastName: 'Lopez',
      imagePath: 'https://randomuser.me/api/portraits/women/49.jpg',
      submittedOn: '2024-10-10T13:45:00Z',
      startDate: '2024-12-10T00:00:00Z',
      endDate: '2024-12-15T00:00:00Z',
      salary: 5100,
    }),
    new VacationRequests({
      id: '11',
      firstName: 'Lily',
      lastName: 'Gonzalez',
      imagePath: 'https://randomuser.me/api/portraits/women/50.jpg',
      submittedOn: '2024-10-11T14:00:00Z',
      startDate: '2024-12-15T00:00:00Z',
      endDate: '2024-12-20T00:00:00Z',
      salary: 4900,
    }),
    new VacationRequests({
      id: '12',
      firstName: 'Ella',
      lastName: 'Smith',
      imagePath: 'https://randomuser.me/api/portraits/women/51.jpg',
      submittedOn: '2024-10-12T15:00:00Z',
      startDate: '2024-12-20T00:00:00Z',
      endDate: '2024-12-25T00:00:00Z',
      salary: 5700,
    }),
    new VacationRequests({
      id: '13',
      firstName: 'Scarlett',
      lastName: 'Nguyen',
      imagePath: 'https://randomuser.me/api/portraits/women/52.jpg',
      submittedOn: '2024-10-13T16:00:00Z',
      startDate: '2024-12-25T00:00:00Z',
      endDate: '2024-12-30T00:00:00Z',
      salary: 5800,
    }),
    new VacationRequests({
      id: '14',
      firstName: 'Grace',
      lastName: 'Lee',
      imagePath: 'https://randomuser.me/api/portraits/women/53.jpg',
      submittedOn: '2024-10-14T17:00:00Z',
      startDate: '2025-01-01T00:00:00Z',
      endDate: '2025-01-05T00:00:00Z',
      salary: 4900,
    }),
    new VacationRequests({
      id: '15',
      firstName: 'Chloe',
      lastName: 'Kim',
      imagePath: 'https://randomuser.me/api/portraits/women/54.jpg',
      submittedOn: '2024-10-15T18:00:00Z',
      startDate: '2025-01-05T00:00:00Z',
      endDate: '2025-01-10T00:00:00Z',
      salary: 6000,
    }),
    new VacationRequests({
      id: '16',
      firstName: 'Jackson',
      lastName: 'Anderson',
      imagePath: 'https://randomuser.me/api/portraits/men/40.jpg',
      submittedOn: '2024-10-16T08:30:00Z',
      startDate: '2025-01-10T00:00:00Z',
      endDate: '2025-01-15T00:00:00Z',
      salary: 6700,
    }),
    new VacationRequests({
      id: '17',
      firstName: 'Aiden',
      lastName: 'Thomas',
      imagePath: 'https://randomuser.me/api/portraits/men/41.jpg',
      submittedOn: '2024-10-17T09:00:00Z',
      startDate: '2025-01-15T00:00:00Z',
      endDate: '2025-01-20T00:00:00Z',
      salary: 7200,
    }),
    new VacationRequests({
      id: '18',
      firstName: 'Lucas',
      lastName: 'Jackson',
      imagePath: 'https://randomuser.me/api/portraits/men/42.jpg',
      submittedOn: '2024-10-18T10:15:00Z',
      startDate: '2025-01-20T00:00:00Z',
      endDate: '2025-01-25T00:00:00Z',
      salary: 6800,
    }),
    new VacationRequests({
      id: '19',
      firstName: 'Liam',
      lastName: 'White',
      imagePath: 'https://randomuser.me/api/portraits/men/43.jpg',
      submittedOn: '2024-10-19T11:45:00Z',
      startDate: '2025-01-25T00:00:00Z',
      endDate: '2025-01-30T00:00:00Z',
      salary: 7500,
    }),
    new VacationRequests({
      id: '20',
      firstName: 'Noah',
      lastName: 'Harris',
      imagePath: 'https://randomuser.me/api/portraits/men/44.jpg',
      submittedOn: '2024-10-20T08:00:00Z',
      startDate: '2025-02-01T00:00:00Z',
      endDate: '2025-02-05T00:00:00Z',
      salary: 6000,
    }),
    new VacationRequests({
      id: '21',
      firstName: 'Ethan',
      lastName: 'Clark',
      imagePath: 'https://randomuser.me/api/portraits/men/45.jpg',
      submittedOn: '2024-10-21T09:30:00Z',
      startDate: '2025-02-05T00:00:00Z',
      endDate: '2025-02-10T00:00:00Z',
      salary: 5200,
    }),
    new VacationRequests({
      id: '22',
      firstName: 'Mason',
      lastName: 'Lewis',
      imagePath: 'https://randomuser.me/api/portraits/men/46.jpg',
      submittedOn: '2024-10-22T10:45:00Z',
      startDate: '2025-02-10T00:00:00Z',
      endDate: '2025-02-15T00:00:00Z',
      salary: 5500,
    }),
    new VacationRequests({
      id: '23',
      firstName: 'Logan',
      lastName: 'Robinson',
      imagePath: 'https://randomuser.me/api/portraits/men/47.jpg',
      submittedOn: '2024-10-23T11:15:00Z',
      startDate: '2025-02-15T00:00:00Z',
      endDate: '2025-02-20T00:00:00Z',
      salary: 6300,
    }),
    new VacationRequests({
      id: '24',
      firstName: 'James',
      lastName: 'Walker',
      imagePath: 'https://randomuser.me/api/portraits/men/48.jpg',
      submittedOn: '2024-10-24T12:30:00Z',
      startDate: '2025-02-20T00:00:00Z',
      endDate: '2025-02-25T00:00:00Z',
      salary: 6700,
    }),
    new VacationRequests({
      id: '25',
      firstName: 'Alexander',
      lastName: 'Hall',
      imagePath: 'https://randomuser.me/api/portraits/men/49.jpg',
      submittedOn: '2024-10-25T13:45:00Z',
      startDate: '2025-02-25T00:00:00Z',
      endDate: '2025-03-02T00:00:00Z',
      salary: 7000,
    }),
    new VacationRequests({
      id: '26',
      firstName: 'William',
      lastName: 'Allen',
      imagePath: 'https://randomuser.me/api/portraits/men/50.jpg',
      submittedOn: '2024-10-26T14:00:00Z',
      startDate: '2025-03-02T00:00:00Z',
      endDate: '2025-03-07T00:00:00Z',
      salary: 7400,
    }),
    new VacationRequests({
      id: '27',
      firstName: 'Benjamin',
      lastName: 'Young',
      imagePath: 'https://randomuser.me/api/portraits/men/51.jpg',
      submittedOn: '2024-10-27T15:00:00Z',
      startDate: '2025-03-07T00:00:00Z',
      endDate: '2025-03-12T00:00:00Z',
      salary: 7800,
    }),
    new VacationRequests({
      id: '28',
      firstName: 'Henry',
      lastName: 'King',
      imagePath: 'https://randomuser.me/api/portraits/men/52.jpg',
      submittedOn: '2024-10-28T16:00:00Z',
      startDate: '2025-03-12T00:00:00Z',
      endDate: '2025-03-17T00:00:00Z',
      salary: 7100,
    }),
    new VacationRequests({
      id: '29',
      firstName: 'Jackson',
      lastName: 'Wright',
      imagePath: 'https://randomuser.me/api/portraits/men/53.jpg',
      submittedOn: '2024-10-29T17:00:00Z',
      startDate: '2025-03-17T00:00:00Z',
      endDate: '2025-03-22T00:00:00Z',
      salary: 5900,
    }),
    new VacationRequests({
      id: '30',
      firstName: 'Sebastian',
      lastName: 'Scott',
      imagePath: 'https://randomuser.me/api/portraits/men/54.jpg',
      submittedOn: '2024-10-30T18:00:00Z',
      startDate: '2025-03-22T00:00:00Z',
      endDate: '2025-03-27T00:00:00Z',
      salary: 5200,
    }),
    new VacationRequests({
      id: '31',
      firstName: 'Gabriel',
      lastName: 'Green',
      imagePath: 'https://randomuser.me/api/portraits/men/55.jpg',
      submittedOn: '2024-10-31T08:30:00Z',
      startDate: '2025-03-27T00:00:00Z',
      endDate: '2025-04-01T00:00:00Z',
      salary: 6200,
    }),
    new VacationRequests({
      id: '32',
      firstName: 'Matthew',
      lastName: 'Adams',
      imagePath: 'https://randomuser.me/api/portraits/men/56.jpg',
      submittedOn: '2024-11-01T09:00:00Z',
      startDate: '2025-04-01T00:00:00Z',
      endDate: '2025-04-06T00:00:00Z',
      salary: 6400,
    }),
    new VacationRequests({
      id: '33',
      firstName: 'Joseph',
      lastName: 'Baker',
      imagePath: 'https://randomuser.me/api/portraits/men/57.jpg',
      submittedOn: '2024-11-02T10:15:00Z',
      startDate: '2025-04-06T00:00:00Z',
      endDate: '2025-04-11T00:00:00Z',
      salary: 6400,
    }),
    new VacationRequests({
      id: '34',
      firstName: 'David',
      lastName: 'Gonzalez',
      imagePath: 'https://randomuser.me/api/portraits/men/58.jpg',
      submittedOn: '2024-11-03T11:45:00Z',
      startDate: '2025-04-11T00:00:00Z',
      endDate: '2025-04-16T00:00:00Z',
      salary: 6800,
    }),
    new VacationRequests({
      id: '35',
      firstName: 'Christopher',
      lastName: 'Nelson',
      imagePath: 'https://randomuser.me/api/portraits/men/59.jpg',
      submittedOn: '2024-11-04T08:00:00Z',
      startDate: '2025-04-16T00:00:00Z',
      endDate: '2025-04-21T00:00:00Z',
      salary: 7000,
    }),
    new VacationRequests({
      id: '36',
      firstName: 'Andrew',
      lastName: 'Carter',
      imagePath: 'https://randomuser.me/api/portraits/men/60.jpg',
      submittedOn: '2024-11-05T09:30:00Z',
      startDate: '2025-04-21T00:00:00Z',
      endDate: '2025-04-26T00:00:00Z',
      salary: 7400,
    }),
  ];

  constructor() {}
  getLatestVacationRequests(
    limit = 4, //how many items in page
    searchQuery: string = ''
  ): VacationRequests[] {
    const vacationRequestsFilterPipe = new VacationRequestsFilterPipe();

    return vacationRequestsFilterPipe
      .transform(this.vacationRequests, searchQuery)
      .slice(0, limit);
  }

  getVacationRequestsPage(
    pageSize: number,
    pageNumber: number,
    searchQuery: string = ''
  ): { data: VacationRequests[]; totalPages: number } {
    const vacationRequestsFilterPipe = new VacationRequestsFilterPipe();
    const filteredVacationRequests = vacationRequestsFilterPipe.transform(
      this.vacationRequests,
      searchQuery
    );

    const vacationRequestsPage = filteredVacationRequests.slice(
      (pageNumber - 1) * pageSize,
      pageSize * pageNumber
    );

    return {
      data: vacationRequestsPage,
      totalPages: filteredVacationRequests.length / pageSize,
    };
  }
}
